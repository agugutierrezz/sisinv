/* ====== Dark UI base ====== */
:root{
  --bg: #0f1115;
  --panel: #151923;
  --muted: #8b93a7;
  --text: #e6e8ee;
  --brand: #7aa2ff;
  --brand-ghost: rgba(122,162,255,0.15);
  --border: #242a38;
  --danger: #ff6b6b;
  --ok: #59d499;
}

html, body { height: 100%; }
body.ui-dark {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}

/* ====== Navbar ====== */
.navbar{
  position: sticky; top: 0; z-index: 50;
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 10px 18px;
  background: linear-gradient(180deg, #0d1016 0%, #0d1016cc 100%);
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(6px);
}
.nav-left, .nav-right { display: flex; align-items: center; gap: 14px; }
.brand{ display: flex; align-items: center; gap: 10px; text-decoration: none; }
.brand-logo{ width: 28px; height: 28px; display: inline-block; }
.brand-text{ color: var(--text); font-weight: 700; letter-spacing: .2px; }
.nav-link{
  color: var(--muted); text-decoration: none; padding: 8px 10px; border-radius: 8px;
  transition: background .15s ease, color .15s ease;
}
.nav-link:hover, .nav-link:focus{ color: var(--text); background: var(--brand-ghost); }

/* ====== Layout ====== */
.container{
  max-width: 1100px; margin: 20px auto; padding: 0 16px;
}

/* ====== Buttons / Inputs ====== */
.btn{
  appearance: none; border: 1px solid var(--border);
  background: var(--panel); color: var(--text);
  padding: 8px 12px; border-radius: 10px; cursor: pointer;
  transition: border-color .15s ease, background .15s ease, transform .02s;
}
.btn:hover{ border-color: #2f384d; background: #171c27; }
.btn:active{ transform: translateY(1px); }
.btn-ghost{ background: transparent; }
.btn-primary{ border-color: #334a86; background: #1a2338; }
.btn-primary:hover{ background: #1d2740; }

.input, .select, .textarea{
  width: 100%; box-sizing: border-box;
  background: #0f1420; color: var(--text);
  border: 1px solid var(--border); border-radius: 10px;
  padding: 9px 12px; outline: none;
}
.input:focus, .select:focus, .textarea:focus{
  border-color: #2f384d; box-shadow: 0 0 0 3px rgba(122,162,255,0.15);
}

/* ====== Cards / Panels ====== */
.card{
  background: var(--panel); border: 1px solid var(--border);
  border-radius: 14px; padding: 16px;
}

/* ====== Tables ====== */
table.list{ width: 100%; border-collapse: collapse; overflow: hidden; }
table.list th, table.list td{ padding: 10px 12px; border-bottom: 1px solid var(--border); }
table.list thead th{ color: var(--muted); font-weight: 600; text-align: left; }
table.list tbody tr:hover{ background: rgba(255,255,255,0.02); }

/* ====== Forms ====== */
.form-grid{ display: grid; gap: 12px; }
.form-row{ display: grid; gap: 6px; }
.form-actions{ display: flex; gap: 10px; justify-content: flex-end; }
label{ color: var(--muted); font-size: 13px; }
.help{ color: var(--muted); font-size: 12px; }

/* ====== Flash ====== */
.flash{ margin-bottom: 12px; padding: 10px 12px; border-radius: 10px; }
.flash.notice{ background: rgba(89,212,153,0.12); border: 1px solid rgba(89,212,153,0.3); }
.flash.alert { background: rgba(255,107,107,0.12); border: 1px solid rgba(255,107,107,0.3); }

.grid-cards{
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}
.card-link{
  display: block;
  text-decoration: none;
  color: var(--text);
  transition: transform .08s ease, border-color .15s ease, background .15s ease;
}
.card-link:hover{
  transform: translateY(-1px);
  border-color: #2f384d;
  background: #171c27;
}

.cards-grid{
  display: grid; gap: 16px;
  grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
}
.article-card .card-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:6px;
}
.card-title{ margin:0; font-weight:700; }
.muted{ color: var(--muted); }
.badge{
  font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid var(--border);
}
.badge-assigned{ background: rgba(255,255,255,0.06); }
.badge-free{ background: rgba(122,162,255,0.15); }
.card-actions{ margin-top:12px; }

/* Filtros de la vista Artículos */
.filters-row{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr 1fr; /* marca, modelo, desde, hasta */
  gap: 14px 16px;                         /* fila/columna */
  margin: 14px 0 18px 0;                  /* separación vertical */
}
@media (max-width: 900px){
  .filters-row{ grid-template-columns: 1fr 1fr; }
}

/* Logo */
.brand { display:flex; align-items:center; gap:.8rem; }
.brand-logo { height: 75px; width:auto; display:block; }  
@media (width: 1024px) {
  .brand-logo { height: 75px; }
}

/* Boton agregar artículo */
.page-head { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px; }
.btn-with-icon { display:inline-flex; align-items:center; gap:.5rem; }
.btn-icon { display:inline-flex; }

/* Botones ver, editar, eliminar*/
.icon-btn {
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px; border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:transparent; color:var(--text, #dbe3ec);
  text-decoration:none; transition:.15s ease;
}
.icon-btn:hover { background:rgba(255,255,255,.06); }
.icon-btn:active { transform:translateY(1px); }
.icon-btn.danger { color:#ff6b6b; border-color:rgba(255,107,107,.25); }
.icon-btn.danger:hover { background:rgba(255,107,107,.1); }

.sr-only {
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

.card-actions { display:flex; gap:.5rem; margin-top:14px; }

.inline-loader {
  display:inline-flex; align-items:center; gap:.4rem;
  font-size:.9rem; opacity:.85;
}
.inline-loader::before {
  content:""; width:14px; height:14px; border-radius:50%;
  border:2px solid currentColor; border-right-color: transparent;
  display:inline-block; animation: spin .8s linear infinite;
}
.hidden { display:none; }

@keyframes spin { to { transform: rotate(360deg); } }

/* Dashboard */
.page-title{ margin:0 0 6px 0; }
.page-subtitle{ margin:0 0 20px 0; color:#9aa3ad; }

.kpi-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap:16px;
  margin-bottom:24px;
}
.kpi-card{
  background:#111826; /* acorde a tu dark */
  border:1px solid #1f2a3a;
  border-radius:12px;
  padding:18px;
}
.kpi-label{ font-size:14px; color:#9aa3ad; margin-bottom:8px; }
.kpi-value{ font-size:28px; font-weight:700; }

.qa-section h2{ margin:0 0 12px 0; }
.qa-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
}
.qa-item{
  background:#0f1723;
  border:1px solid #1f2a3a;
  border-radius:14px;
  padding:16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.qa-title{ font-weight:600; margin-bottom:4px; }
.qa-desc{ font-size:14px; color:#9aa3ad; }
.btn.btn-circle{
  display:inline-flex; align-items:center; justify-content:center;
  width:42px; height:42px; border-radius:9999px;
  background:#203a5a; color:white; text-decoration:none;
  border:1px solid #2b4c72;
}
.btn.btn-circle:hover{ filter:brightness(1.1); }
.btn.btn-circle{
  display:inline-flex; align-items:center; justify-content:center;
  width:24px; height:24px;           /* antes 42px */
  border-radius:9999px;
  background:#203a5a; color:white;
  border:1px solid #2b4c72;
  font-size: 13px;                    /* más chico */
  text-decoration:none;
}

@media (max-width: 900px){
  .kpi-grid{ grid-template-columns: 1fr 1fr; }
  .qa-grid{ grid-template-columns: 1fr; }
}

/* header del show articulos */
.page-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin-bottom:10px;
}
.back-link{ padding:0; text-decoration:none; color:var(--muted); }
.back-link:hover{ color:var(--text); }
.page-title{ margin:0; }

/* título de sección con acciones a la derecha */
.section-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; margin:0 0 10px 0;
}
.section-head h3{ margin:0; }
.head-actions{ display:flex; gap:8px; }

label.required::after{
  content:" *";
  color:#ff6b6b;
  font-weight:600;
}

/* ==== Dialog / Modal ==== */
dialog.card{
  width: 460px;
  max-width: calc(100% - 28px);
  padding: 16px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: var(--panel);
  color: var(--text);
}
dialog.card::backdrop{
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(2px);
}
dialog.card h3{ margin: 0 0 10px 0; }
dialog.card form{ display:grid; gap:10px; }
dialog.card .form-actions{
  margin-top: 4px;
  display:flex; gap:10px; justify-content:flex-end;
}
dialog.card label.required::after{ content:" *"; color:#ff6b6b; font-weight:600; }
@media (max-width: 480px){
  dialog.card{ width: 96vw; padding: 14px; }
}

/* Persona */
.person-card{ border:1px solid var(--border); border-radius:12px; padding:14px; background:#0e1420; }
.person-row{ display:flex; align-items:center; gap:10px; }        /* avatar + nombre en línea */
.person-row .avatar{ width:40px; height:40px; border-radius:999px; background:#1b2333; display:grid; place-items:center; }
.card-actions{ display:flex; gap:12px; margin-top:12px; }
.icon-btn{ width:38px; height:38px; border-radius:999px; background:#161b22; border:1px solid #2b3240; display:grid; place-items:center; color:#dce6f9; }
.icon-btn.danger{ border-color:#7b2e37; color:#ff8a92; }
.people-toolbar .search-wrap{ display:flex; align-items:center; gap:.5rem; background:#161b22; border:1px solid #2b3240; border-radius:.75rem; padding:.55rem .75rem; max-width:520px; }
.people-toolbar input{ background:transparent; border:0; outline:0; color:#e8eef8; width:100%; }
.people-toolbar { margin: 12px 0 20px; }

/* Ver artículo archivado */
.badge-archived{ background: rgba(255,107,107,.12); border-color: rgba(255,107,107,.35); color:#ff8a8a; }

/* Filtrar artículos para transferencias */
.ta-list{ position:relative; margin-top:6px; }
.ta-list.hidden{ display:none; }
.ta-list { background:#0f1420; border:1px solid var(--border); border-radius:10px; padding:4px; }
.ta-item{ width:100%; text-align:left; padding:8px 10px; background:transparent; border:0; color:var(--text); border-radius:8px; cursor:pointer; }
.ta-item:hover{ background:rgba(255,255,255,.05); }

/* Catálogo */
.tabs-rail{display:flex;gap:12px;align-items:center;margin:8px 0 14px}
.tabs-track{position:relative;display:grid;grid-template-columns:1fr 1fr;background:#0f1723;border-radius:999px;padding:4px}
.tab-link{z-index:1;text-align:center;padding:.55rem 1rem;border-radius:999px;color:#9fb0c6;border:0;background:transparent;cursor:pointer}
.tab-link.is-active{color:#e9eef7;font-weight:600}
.tab-knob{position:absolute;top:4px;left:4px;height:calc(100% - 8px);width:calc(50% - 8px);border-radius:999px;background:#293652;transition:transform .25s ease}
.tab-knob.to-right{transform:translateX(100%)}

.actions-right { display:flex; gap:.5rem; }

.cards-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:1rem; }
.item-card { padding:1rem; border-radius:1rem; background:#141a24; box-shadow: 0 0 0 1px #2a3850 inset; }
.item-card .item-head { display:flex; align-items:center; gap:.75rem; }
.item-card .item-icon { width:36px; height:36px; display:grid; place-items:center; border-radius:999px; background:#26324a; }
.item-card .item-title { font-weight:600; font-size:1.05rem; flex:1; }
.item-card .item-badge { font-size:.85rem; opacity:.85; }
.item-card .item-meta { margin:.5rem 0 1rem; color:#9fb0c6; display:flex; gap:.5rem; align-items:center; }
.item-card .item-actions { display:flex; gap:.5rem; }

.divider { border:0; height:1px; background:#2a3850; margin:1.25rem 0; }

.modal::backdrop { background: rgba(0,0,0,.6); }
.modal { border:0; border-radius:14px; padding:0; }
.modal-card { width:min(520px, 92vw); background:#0f1520; color:#fff; border-radius:14px; padding:1rem; box-shadow: 0 12px 40px rgba(0,0,0,.35); }
.modal-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:.5rem; }
.modal-body .field { display:flex; flex-direction:column; gap:.25rem; margin:.5rem 0; }
.modal-foot { display:flex; justify-content:flex-end; gap:.5rem; margin-top:.75rem; }
.form-error { color:#ff6b6b; margin-top:.25rem; }

